{"ast":null,"code":"import React,{useState}from\"react\";import{base44}from\"../firebaseClient\";import{useQuery}from\"@tanstack/react-query\";import{Briefcase,ArrowRight}from\"lucide-react\";import MarketplaceRequestCard from\"../components/marketplace/MarketplaceRequestCard\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MyGigs(){const[filter,setFilter]=useState(\"my_posts\");// \"my_posts\", \"accepted_gigs\"\nconst{data:user}=useQuery({queryKey:['currentUser'],queryFn:()=>base44.auth.me()});const{data:requests,isLoading}=useQuery({queryKey:['myGigs',user===null||user===void 0?void 0:user.email,filter],queryFn:async()=>{if(!(user!==null&&user!==void 0&&user.email))return[];if(filter===\"my_posts\"){// Show all posts (open, completed, cancelled) - exclude in_session and awaiting_payment\nconst posts=await base44.entities.MarketplaceRequest.filter({author_email:user.email},'-created_date',100);return posts.filter(p=>p.status!=='in_session'&&p.status!=='awaiting_payment');}if(filter===\"accepted_gigs\"){// Show all accepted gigs (completed, cancelled) - exclude in_session and awaiting_payment\nconst gigs=await base44.entities.MarketplaceRequest.filter({responder_email:user.email},'-created_date',100);return gigs.filter(g=>g.status!=='in_session'&&g.status!=='awaiting_payment');}return[];},enabled:!!(user!==null&&user!==void 0&&user.email),initialData:[]});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-5xl font-black text-white neon-text uppercase tracking-tight\",style:{color:\"#00FF41\"},children:\"MY GIGS\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold text-white mt-2\",children:\"VIEW YOUR COMPLETED & CANCELLED SESSIONS\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setFilter('my_posts'),className:\"brutalist-button px-6 py-3 flex items-center gap-2 \".concat(filter==='my_posts'?'bg-[#00FF41] text-black':'bg-white text-black'),children:[/*#__PURE__*/_jsx(ArrowRight,{className:\"w-5 h-5\"}),\" MY POSTS\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setFilter('accepted_gigs'),className:\"brutalist-button px-6 py-3 flex items-center gap-2 \".concat(filter==='accepted_gigs'?'bg-[#00FF41] text-black':'bg-white text-black'),children:[/*#__PURE__*/_jsx(Briefcase,{className:\"w-5 h-5\"}),\" ACCEPTED GIGS\"]})]}),isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inline-block w-12 h-12 border-4 border-black border-t-[#00FF41] rounded-full animate-spin\"})}):requests.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"brutalist-card p-12 text-center\",children:[/*#__PURE__*/_jsx(Briefcase,{className:\"w-16 h-16 mx-auto mb-4 text-black\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-black text-black uppercase\",children:\"NO PAST SESSIONS\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-black font-bold mt-2\",children:\"COMPLETE SOME SESSIONS TO SEE THEM HERE!\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\",children:requests.map(req=>/*#__PURE__*/_jsx(MarketplaceRequestCard,{request:req,currentUser:user,isMyGigsView:true},req.id))})]});}","map":{"version":3,"names":["React","useState","base44","useQuery","Briefcase","ArrowRight","MarketplaceRequestCard","jsx","_jsx","jsxs","_jsxs","MyGigs","filter","setFilter","data","user","queryKey","queryFn","auth","me","requests","isLoading","email","posts","entities","MarketplaceRequest","author_email","p","status","gigs","responder_email","g","enabled","initialData","className","children","style","color","onClick","concat","length","map","req","request","currentUser","isMyGigsView","id"],"sources":["/home/ubuntu/BigGrade-Main-files/src/pages/MyGigs.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { base44 } from \"../firebaseClient\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Briefcase, ArrowRight } from \"lucide-react\";\nimport MarketplaceRequestCard from \"../components/marketplace/MarketplaceRequestCard\";\n\nexport default function MyGigs() {\n  const [filter, setFilter] = useState(\"my_posts\"); // \"my_posts\", \"accepted_gigs\"\n  const { data: user } = useQuery({ queryKey: ['currentUser'], queryFn: () => base44.auth.me() });\n\n  const { data: requests, isLoading } = useQuery({\n    queryKey: ['myGigs', user?.email, filter],\n    queryFn: async () => {\n      if (!user?.email) return [];\n      if (filter === \"my_posts\") {\n        // Show all posts (open, completed, cancelled) - exclude in_session and awaiting_payment\n        const posts = await base44.entities.MarketplaceRequest.filter({ author_email: user.email }, '-created_date', 100);\n        return posts.filter(p => p.status !== 'in_session' && p.status !== 'awaiting_payment');\n      }\n      if (filter === \"accepted_gigs\") {\n        // Show all accepted gigs (completed, cancelled) - exclude in_session and awaiting_payment\n        const gigs = await base44.entities.MarketplaceRequest.filter({ responder_email: user.email }, '-created_date', 100);\n        return gigs.filter(g => g.status !== 'in_session' && g.status !== 'awaiting_payment');\n      }\n      return [];\n    },\n    enabled: !!user?.email,\n    initialData: [],\n  });\n\n  return (\n    <div className=\"space-y-8\">\n      <div className=\"text-center\">\n        <h1 className=\"text-5xl font-black text-white neon-text uppercase tracking-tight\" style={{ color: \"#00FF41\" }}>\n          MY GIGS\n        </h1>\n        <p className=\"text-xl font-bold text-white mt-2\">\n          VIEW YOUR COMPLETED & CANCELLED SESSIONS\n        </p>\n      </div>\n\n      <div className=\"flex justify-center gap-4\">\n        <button onClick={() => setFilter('my_posts')} className={`brutalist-button px-6 py-3 flex items-center gap-2 ${filter === 'my_posts' ? 'bg-[#00FF41] text-black' : 'bg-white text-black'}`}>\n          <ArrowRight className=\"w-5 h-5\" /> MY POSTS\n        </button>\n        <button onClick={() => setFilter('accepted_gigs')} className={`brutalist-button px-6 py-3 flex items-center gap-2 ${filter === 'accepted_gigs' ? 'bg-[#00FF41] text-black' : 'bg-white text-black'}`}>\n          <Briefcase className=\"w-5 h-5\" /> ACCEPTED GIGS\n        </button>\n      </div>\n\n      {isLoading ? (\n        <div className=\"text-center py-12\"><div className=\"inline-block w-12 h-12 border-4 border-black border-t-[#00FF41] rounded-full animate-spin\"></div></div>\n      ) : requests.length === 0 ? (\n        <div className=\"brutalist-card p-12 text-center\"><Briefcase className=\"w-16 h-16 mx-auto mb-4 text-black\" /><h3 className=\"text-2xl font-black text-black uppercase\">NO PAST SESSIONS</h3><p className=\"text-black font-bold mt-2\">COMPLETE SOME SESSIONS TO SEE THEM HERE!</p></div>\n      ) : (\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\">\n          {requests.map(req => ( <MarketplaceRequestCard key={req.id} request={req} currentUser={user} isMyGigsView={true} /> ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}